<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TextRankerJS</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>


    <div class="container my-2">
        <h1 class="text-body-emphasis">Annotation Guide</h1>
    </div>
    <hr />


    <div class="container">
        <p>The annotation interface is designed for you to assess the validity and naturalness of counterfactual text examples generated by three different methods: A, B, and C. The examples are sorted in a random order to maintain source anonymity.</p>
    
        <p>You will first be presented with a factual reference and the corresponding gold label. Each of the following texts should be seen as counterfactuals, meaning they should imply a different label than the reference. For each counterfactual example, use the sliding scales to rate its validity and naturalness on a scale from 1 to 5.</p>
        
        <p>
            <strong>Validity:</strong> Reflects whether the counterfactual example indeed implies a different label than the reference.
        </p>
        <p>
            <strong>Naturalness:</strong> Reflects whether the counterfactual could be considered a plausible example from the real dataset. For example, fluency and syntax are examples of properties indicating naturalness.
        </p>

        <p>
          Note: Your decisions are saved automatically in your browser as you make changes. When finished, click "Download" at the end of the page to save your data as a JSON file. If you want to clean your annotation, click "Clear Annotation" at the top of the page.
        </p>

        <hr />
    </div>

    
    


    <div class="container">
      <h3>Rating validity</h3>
      <p>
        The validity of counterfactuals can vary widely. A counterfactual may predominantly convey a different label, but there might be instances where certain phrases seem to echo the original reference label. This mismatch could occur for a number of reasons, such as the generation method neglecting key text spans or the generator simply failing to construct meaningful text.
      </p>

      <p>
        Use the following guideline for assessing validity: if every phrase in the text unequivocally suggests a counterfactual label, the example is deemed fully valid and should receive a top score of 5/5. If not, the proportion of valid phrases should inform your score. Bear in mind that certain phrases may be neutral and therefore not contribute to or detract from overall validity.
      </p>

      <p>See below some examples along with the justifications for each rating.</p>
    </div>

      

    <div class="container reference">
      <div class="p-2 rounded">
        <span class="badge bg-secondary text-light text-uppercase">Negative</span> <br/> 
        Unwatchable. You can’t even make it past the first three minutes. And this is coming from a huge Adam Sandler fan!!!
      </div>
    </div>

    <div class="container example">
      <li class="list-group-item method0" data-method="methodA">
          <div class="row">
              <div class="col">
                  Great movie. You can’t even stop laughing. I am not an Adam Sandler fan!!!
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="4" disabled>
                      <span class="range-value">4</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>
          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: Most phrases imply a positive sentiment contrary to the original negative label. The phrase "I am not an Adam Sandler fan" still implies that a particular aspect of the review is negative, hence the deduction of one point.
              </p>
              <p>
                Naturalness: The text is fluent, grammatically correct, and consistent with the tone of real-world reviews.
              </p>
            </div>
          </div>
      </li>

      <li class="list-group-item method1" data-method="methodB">
          <div class="row">
              <div class="col">
                  Unwatchable. You can’t even make until the end. But this movie has Adam Sandler and it is good!!!
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="2" disabled>
                      <span class="range-value">2</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The text begins and ends with contradictory sentiments, causing confusion about its overall sentiment. Overall, there is a large portion of negative phrases, resulting in a lower validity.
              </p>
              <p>
                Naturalness: Despite the contradictory sentiment, the text is fluent, grammatically correct, and in the style of real-world reviews.
              </p>
            </div>
          </div>
      </li>

      <li class="list-group-item method0" data-method="methodC">
          <div class="row">
              <div class="col">
                  Terrible. You can't even watch this. Adam Sandler sucks!!!
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="1" disabled>
                      <span class="range-value">1</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The text mostly aligns with the negative sentiment of the reference, indicating a low validity score.
              </p>
              <p>
                Naturalness: The text is fluent, grammatically correct, and in the style of real-world reviews.
              </p>
            </div>
          </div>

      </li>
      <hr />
    </div>



    <div class="container">
      <h3>Rating naturalness</h3>
      <p>
        The degree of naturalness in counterfactuals can differ significantly. A counterfactual may seem entirely plausible, seamlessly blending into the context of the real dataset, while others may appear artificial or forced. This could be due to various factors, such as the method's inability to generate fluent phrases or maintain consistent syntax, which are essential for a text to appear natural.
      </p>

      <p>
        Here's a guideline for evaluating naturalness: if the counterfactual text aligns with the style, tone, and grammar of real-world examples, it's considered highly natural and deserves a score of 5/5. If not, the extent of its alignment with these characteristics should guide your rating. Remember, even if a phrase doesn't contribute to the counterfactual label, it can still impact naturalness based on its fluency and grammatical correctness.
      </p>

      <p>See below some examples along with the justifications for each rating.</p>
    </div>


      <div class="container reference">
        <div class="p-2 rounded">
          <span class="badge bg-secondary text-light text-uppercase">Negative</span> <br/> 
          If you haven’t seen this, it’s terrible. It is pure trash. I saw this about 17 years ago, and I’m still screwed up from it.
        </div>
      </div>

    <div class="container example">
      <li class="list-group-item method0" data-method="methodA">
          <div class="row">
              <div class="col">
                  If you haven seen this, it’s seeing. It is pure gold. I saw it about 17 years ago, and I’m still from it.
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="3" disabled>
                      <span class="range-value">3</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="1" disabled>
                      <span class="range-value">1</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The overall sentiment seems positive, which is opposite to the reference, but some phrases are confusing and do not clearly convey a sentiment.
              </p>
              <p>
                Naturalness: Several phrases are not fluent or grammatically correct, which makes the text seem unnatural.
              </p>
            </div>
          </div>
      </li>

      <li class="list-group-item method1" data-method="methodB">
          <div class="row">
              <div class="col">
                  If you haven’t seen this movie, it’s definitely worth seeing. It’s great. I saw it about 17 years ago, and I’m still screwed up from it.
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="4" disabled>
                      <span class="range-value">4</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The sentiment of all phrases is opposite to that of the reference, except the last, which is ambiguous and can be used for both positive and negative sentiments.
              </p>
              <p>
                Naturalness: The text is fluent, grammatically correct, and consistent with the tone of real-world reviews.
              </p>
            </div>
          </div>
      </li>

      <li class="list-group-item method0" data-method="methodC">
          <div class="row">
              <div class="col">
                  If you haven’t seen this movie, it’s definitely worth... It’s great. I saw it about 17 years ago.
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="3" disabled>
                      <span class="range-value">3</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The sentiment of the available phrases is opposite to that of the reference.
              </p>
              <p>
                Naturalness: The text is mostly fluent and grammatically correct, but the phrase "it’s definitely worth..." is incomplete, which makes the text seem somewhat unnatural. In addition, the final sentence is irrelevant for the context, further reducing the real aspect of the review.
              </p>
            </div>
          </div>
      </li>

      <hr />
    </div>


    <div class="container reference">
      <h3>Interface Preview</h3>

      <div class="p-2 rounded"><span class="badge bg-secondary text-light text-uppercase">Positive</span><br> 
      An extraordinary movie. Brilliant performances and an engaging plot make it a must-watch.
    </div>
    </div>


    <div class="container example">
      <ul class="list-group sortable" data-example-index="0">
        <li class="list-group-item method0" data-method="methodA">
            <div class="row">
                <div class="col">
                    An ordinary movie. Mediocre performances and a dull plot make it skippable.
                </div>
                <div class="col-auto text-right">
                    <div class="validity-rating">
                        <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="3">
                        <span class="range-value">3</span>
                        <label style="margin-right:30px;">&nbsp;(validity)</label>
                    </div>
                    <div class="naturalness-rating">
                        <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="3">
                        <span class="range-value">3</span>
                        <label>&nbsp;(naturalness)</label>
                    </div>
                </div>
            </div>
        </li>
        <li class="list-group-item method1" data-method="methodC">
            <div class="row">
                <div class="col">
                    An extraordinary movie. Mediocre performances and a dull plot make it a must-watch.
                </div>
                <div class="col-auto text-right">
                    <div class="validity-rating">
                        <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="3">
                        <span class="range-value">3</span>
                        <label style="margin-right:30px;">&nbsp;(validity)</label>
                    </div>
                    <div class="naturalness-rating">
                        <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="3">
                        <span class="range-value">3</span>
                        <label>&nbsp;(naturalness)</label>
                    </div>
                </div>
            </div>
        </li>
        <li class="list-group-item method0" data-method="methodB">
            <div class="row">
                <div class="col">
                    An extraordinary movie. Brilliant performances and an engaging plot make it a must-avoid.
                </div>
                <div class="col-auto text-right">
                    <div class="validity-rating">
                        <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="3">
                        <span class="range-value">3</span>
                        <label style="margin-right:30px;">&nbsp;(validity)</label>
                    </div>
                    <div class="naturalness-rating">
                        <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="3">
                        <span class="range-value">3</span>
                        <label>&nbsp;(naturalness)</label>
                    </div>
                </div>
            </div>
        </li>
      </ul>

    </div>


    <div class="container">
      <p>Let me know if you have further questions. <a href="index_likert.html">Go to the annotation interface</a>.</p>
      <br /><br />
      <hr />
    </div>



    <div class="container">
      <h3>More examples</h3>
    </div>


      <div class="container reference">
        <div class="p-2 rounded">
          <span class="badge bg-secondary text-light text-uppercase">Positive</span> <br/> 
          A remarkable film. The performances were stellar, and the script was truly captivating. I watched this film five years ago, and it still resonates with me.
        </div>
      </div>

    <div class="container example">
      <li class="list-group-item method0" data-method="methodA">
          <div class="row">
              <div class="col">
                  A remarkable film. The performances were, and the script was truly captivating. I watched this film five years ago, and it still with me.
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="2" disabled>
                      <span class="range-value">2</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="1" disabled>
                      <span class="range-value">1</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The overall sentiment seems to match the reference, while some phrases are neutral and miss some key words.
              </p>
              <p>
                Naturalness: Several phrases are not fluent or grammatically correct, which makes the text seem unnatural.
              </p>
            </div>
          </div>
      </li>

      <li class="list-group-item method1" data-method="methodB">
          <div class="row">
              <div class="col">
                  An unremarkable film. The performances were lackluster, and the script was truly disappointing. I watched this film five years ago, and it still leaves a bad taste.
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="5" disabled>
                      <span class="range-value">5</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The sentiment of all phrases is opposite to that of the reference.
              </p>
              <p>
                Naturalness: The text is fluent, grammatically correct, and consistent with the tone of real-world reviews.
              </p>
            </div>
          </div>
      </li>

      <li class="list-group-item method0" data-method="methodC">
          <div class="row">
              <div class="col">
                  An unremarkable film. The performances were stellar, and the script was truly... I watched this film five years ago.
              </div>
              <div class="col-auto text-right">
                  <div class="validity-rating">
                      <input type="range" id="validity-0-methodA" name="validity-0-methodA" min="1" max="5" value="4" disabled>
                      <span class="range-value">4</span>
                      <label style="margin-right:30px;">&nbsp;(validity)</label>
                  </div>
                  <div class="naturalness-rating">
                      <input type="range" id="naturalness-0-methodA" name="naturalness-0-methodA" min="1" max="5" value="4" disabled>
                      <span class="range-value">4</span>
                      <label>&nbsp;(naturalness)</label>
                  </div>
              </div>
          </div>

          <div class="dotted-separator"></div>
          <div class="row text-muted">
            <div class="col">
              <p>
                Validity: The sentiment of the first phrase is opposite to that of the reference, but the second phrase matches the reference, and the third phrase is incomplete.
              </p>
              <p>
                Naturalness: The text is mostly fluent and grammatically correct, but the phrase "the script was truly..." is incomplete, which makes the text seem somewhat unnatural.
              </p>
            </div>
          </div>
      </li>

    </div>


    <div class="container">
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 mt-5 border-top">
        <p class="col-md-4 mb-0 text-body-secondary">
          © 2023 University of Lisbon, IST.
        </p>
        <p class="col-md-4 mb-0 text-body-secondary text-right">
          Source code available on <a href="https://github.com/mtreviso/TextRankerJS" target="_blank" rel="noopener noreferrer">GitHub</a>.
        </p>
      </footer>
    </div>


<script>
$(document).ready(function () {
    
  $(".example .list-group-item input[type='range']").on("input", function (e) {
    const rating = $(this).val();
    $(this).siblings(".range-value").text(rating);
  });

});
</script>

</body>
</html>
